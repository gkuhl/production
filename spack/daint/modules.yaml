modules:
  enable::
    - tcl
  lmod:
    verbose: True
    core_compilers:
      - 'gcc@7.5.0'
    hierarchy:
      - mpi
      - lapack
    hash_length: 0
    whitelist:
      - 'gcc'
      - 'intel'
      - 'pgi'
      - 'clang'
      - 'xl'
      - 'nag'
      - 'cuda'
      - 'cmake'
      - 'go'
      - 'llvm'
    blacklist:
      # - '%gcc@7.5.0'
      - 'apr'
      - 'apr-util'
      - 'arpack-ng'
      - 'autoconf'
      - 'automake'
      - 'autotools'
      - 'bazel'
      - 'bdftopcf'
      - 'berkeleydb'
      - 'binutils'
      - 'bison'
      - 'byacc'
      - 'bzip2'
      - 'c3'
      - 'cairo'
      - 'coreutils'
      - 'cube'
      - 'cuda'
      - 'cudnn'
      - 'curl'
      - 'diffutils'
      - 'double-conversion'
      - 'doxygen'
      - 'eigen'
      - 'expat'
      - 'fftw'
      - 'findutils'
      - 'flex'
      - 'fltk'
      - 'font-util'
      - 'fontconfig'
      - 'fontsproto'
      - 'freetype'
      - 'funcsigs'
      - 'gc'
      - 'gdbm'
      - 'gettext'
      - 'gl2ps'
      - 'glib'
      - 'glpk'
      - 'gmake'
      - 'gmp'
      - 'gnutls'
      - 'go-boostrap'
      - 'gompi'
      - 'gperf'
      - 'graphicsmagick'
      - 'gts'
      - 'guile'
      - 'harfbuzz'
      - 'help2man'
      - 'hwloc'
      - 'icu4c'
      - 'inputproto'
      - 'ipython'
      - 'isl'
      - 'jasper'
      - 'junit'
      - 'kbproto'
      - 'lcms'
      - 'libarchive'
      - 'libbsd'
      - 'libcerf'
      - 'libdrm'
      - 'libedit'
      - 'libevent'
      - 'libffi'
      - 'libfontenc'
      - 'libgd'
      - 'libglu'
      - 'libiberty'
      - 'libiconv'
      - 'libinit'
      - 'libint'
      - 'libjpeg-turbo'
      - 'libmng'
      - 'libpciaccess'
      - 'libpng'
      - 'libpthread-stubs'
      - 'libqglviewer'
      - 'libreadline'
      - 'libsigsegv'
      - 'libsodium'
      - 'libtiff'
      - 'libtool'
      - 'libunistring'
      - 'libunwind'
      - 'libutempter'
      - 'libuv'
      - 'libx11'
      - 'libxau'
      - 'libxc'
      - 'libxcb'
      - 'libxdmcp'
      - 'libxfont'
      - 'libxml2'
      - 'libxshmfence'
      - 'libxsmm'
      - 'loki'
      - 'lz4'
      - 'lzo'
      - 'm4'
      - 'make'
      - 'mako'
      - 'mesa'
      - 'mkfontdir'
      - 'mkfontscale'
      - 'mock'
      - 'mpc'
      - 'mpfr'
      - 'mpich'
      - 'mxml'
      - 'nasm'
      - 'ncurses'
      - 'nettle'
      - 'nose-parameterized'
      - 'numactl'
      - 'opari2'
      - 'openpgm'
      - 'openssl'
      - 'otf2'
      - 'pcre'
      - 'pcre'
      - 'pcre2'
      - 'pdt'
      - 'perl'
      - 'perl-data-dumper'
      - 'pil'
      - 'pixman'
      - 'pkg-config'
      - 'pkgconf'
      - 'ploticus'
      - 'proj'
      - 'protobuf'
      - 'protobuf-core'
      - 'pygts'
      - 'pyqt'
      - 'python-bare'
      - 'python-xlib'
      - 'qrupdate'
      - 'qt'
      - 'readline'
      - 'rhash'
      - 'scons'
      - 'scotch'
      - 'serf'
      - 'sionlib'
      - 'sip'
      - 'sqlite'
      - 'swig'
      - 'szip'
      - 'tar'
      - 'tcl'
      - 'texinfo'
      - 'tk'
      - 'udunits'
      - 'util-linux'
      - 'util-macros'
      - 'wheel'
      - 'xcb-proto'
      - 'xextproto'
      - 'xproto'
      - 'xtrans'
      - 'xz'
      - 'yasm'
      - 'zeromq'
      - 'zlib'
    all:
      suffixes:
        'build_type=RelWithDebInfo': 'reldebinfo'
        'build_type=Release': 'release'
        '+cuda': 'cuda'
        '+openmp': 'omp'
        '+omp': 'omp'
        'threads=openmp': 'omp'
        '^intel-mkl': 'mkl'
        '^openblas': 'openblas'
        '^netlib-lapack': 'lapack'
        '^netlib-scalapack': 'scalapack'
        '~shared': 'static'
        '+shared': 'shared'
        '+plumed': 'plumed'
        '+pic': 'pic'
        '+pmi': 'pmi'
        '+slurm': 'slurm'
        '+verbs': 'verbs'
        '+elpa': 'elpa'
        '+libxc': 'libxc'
        '+pexsi': 'pexsi'
        '+docs': 'docs'
        '^python@2': 'python2'
        '^python@3': 'python3'
      environment:
        set:
          '${PACKAGE}_ROOT': '${PREFIX}'
    ^python:
      autoload:  'direct'
  tcl:
    verbose: True
    hash_length: 0
    # naming_scheme: "${PACKAGE}/${VERSION}-${COMPILERNAME}-${COMPILERVER}"
    blacklist:
      # - '%gcc@7.5.0'
      - 'apr'
      - 'apr-util'
      - 'arpack-ng'
      - 'autoconf'
      - 'automake'
      - 'autotools'
      - 'bazel'
      - 'bdftopcf'
      - 'berkeleydb'
      - 'binutils'
      - 'bison'
      - 'byacc'
      - 'bzip2'
      - 'c3'
      - 'cairo'
      - 'coreutils'
      - 'cube'
      - 'cuda'
      - 'cudnn'
      - 'curl'
      - 'diffutils'
      - 'double-conversion'
      - 'doxygen'
      - 'eigen'
      - 'expat'
      - 'fftw'
      - 'findutils'
      - 'flex'
      - 'fltk'
      - 'font-util'
      - 'fontconfig'
      - 'fontsproto'
      - 'freetype'
      - 'funcsigs'
      - 'gc'
      - 'gdbm'
      - 'gettext'
      - 'gl2ps'
      - 'glib'
      - 'glpk'
      - 'gmake'
      - 'gmp'
      - 'gnutls'
      - 'go-boostrap'
      - 'gompi'
      - 'gperf'
      - 'graphicsmagick'
      - 'gts'
      - 'guile'
      - 'harfbuzz'
      - 'help2man'
      - 'hwloc'
      - 'icu4c'
      - 'inputproto'
      - 'ipython'
      - 'isl'
      - 'jasper'
      - 'junit'
      - 'kbproto'
      - 'lcms'
      - 'libarchive'
      - 'libbsd'
      - 'libcerf'
      - 'libdrm'
      - 'libedit'
      - 'libevent'
      - 'libffi'
      - 'libfontenc'
      - 'libgd'
      - 'libglu'
      - 'libiberty'
      - 'libiconv'
      - 'libinit'
      - 'libint'
      - 'libjpeg-turbo'
      - 'libmng'
      - 'libpciaccess'
      - 'libpng'
      - 'libpthread-stubs'
      - 'libqglviewer'
      - 'libreadline'
      - 'libsigsegv'
      - 'libsodium'
      - 'libtiff'
      - 'libtool'
      - 'libunistring'
      - 'libunwind'
      - 'libutempter'
      - 'libuv'
      - 'libx11'
      - 'libxau'
      - 'libxc'
      - 'libxcb'
      - 'libxdmcp'
      - 'libxfont'
      - 'libxml2'
      - 'libxshmfence'
      - 'libxsmm'
      - 'loki'
      - 'lz4'
      - 'lzo'
      - 'm4'
      - 'make'
      - 'mako'
      - 'mesa'
      - 'mkfontdir'
      - 'mkfontscale'
      - 'mock'
      - 'mpc'
      - 'mpfr'
      - 'mpich'
      - 'mxml'
      - 'nasm'
      - 'ncurses'
      - 'nettle'
      - 'nose-parameterized'
      - 'numactl'
      - 'opari2'
      - 'openpgm'
      - 'openssl'
      - 'otf2'
      - 'pcre'
      - 'pcre'
      - 'pcre2'
      - 'pdt'
      - 'perl'
      - 'perl-data-dumper'
      - 'pil'
      - 'pixman'
      - 'pkg-config'
      - 'pkgconf'
      - 'ploticus'
      - 'proj'
      - 'protobuf'
      - 'protobuf-core'
      - 'pygts'
      - 'pyqt'
      - 'python-bare'
      - 'python-xlib'
      - 'qrupdate'
      - 'qt'
      - 'readline'
      - 'rhash'
      - 'scons'
      - 'scotch'
      - 'serf'
      - 'sionlib'
      - 'sip'
      - 'sqlite'
      - 'swig'
      - 'szip'
      - 'tar'
      - 'tcl'
      - 'texinfo'
      - 'tk'
      - 'udunits'
      - 'util-linux'
      - 'util-macros'
      - 'wheel'
      - 'xcb-proto'
      - 'xextproto'
      - 'xproto'
      - 'xtrans'
      - 'xz'
      - 'yasm'
      - 'zeromq'
      - 'zlib'
    all:
      conflict:
        - '${PACKAGE}'
      suffixes:
        'build_type=RelWithDebInfo': 'reldebinfo'
        'build_type=Release': 'release'
        '+cuda': 'cuda'
        '+openmp': 'omp'
        '+omp': 'omp'
        'threads=openmp': 'omp'
        '^intel-mkl': 'mkl'
        '^openblas': 'openblas'
        '^netlib-lapack': 'lapack'
        '^netlib-scalapack': 'scalapack'
        '~shared': 'static'
        '+shared': 'shared'
        '+plumed': 'plumed'
        '+pic': 'pic'
        '+pmi': 'pmi'
        '+slurm': 'slurm'
        '+verbs': 'verbs'
        '+elpa': 'elpa'
        '+libxc': 'libxc'
        '+pexsi': 'pexsi'
        '+docs': 'docs'
        '^python@2': 'python2'
        '^python@3': 'python3'
      environment:
        set:
          '${PACKAGE}_ROOT': '${PREFIX}'
    ^python:
      autoload:  'direct'
    projections:
      all: '{name}/{version}-{compiler.name}-{compiler.version}'
      ^mpi: '{name}/{version}-{^mpi.name}-{^mpi.version}-{compiler.name}-{compiler.version}'

